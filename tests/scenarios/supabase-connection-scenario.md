# E2E 테스트 시나리오: Supabase 연결 및 데이터 동기화

## 목적

Supabase 데이터베이스 연결이 정상적으로 작동하고 데이터가 실시간으로 동기화되는지 확인

## 시나리오 단계

### 초기 연결 테스트
1. 페이지 로드 시 "🔍 Supabase 연결 테스트" 섹션 확인
2. 연결 상태가 "✅ 연결 성공"으로 표시되는지 확인
3. 환경변수 상태가 모두 "✅ 설정됨"으로 표시되는지 확인
4. 데이터베이스에서 가져온 메모 개수가 표시되는지 확인

### 데이터 로딩 테스트
1. 페이지 로드 시 로딩 스피너가 표시되는지 확인
2. 로딩 완료 후 메모 목록이 표시되는지 확인
3. 메모가 생성일 기준 내림차순으로 정렬되어 있는지 확인
4. 각 메모의 메타데이터(제목, 카테고리, 태그, 날짜)가 정확한지 확인

### 실시간 데이터 동기화 테스트
1. 첫 번째 브라우저 탭에서 새 메모 생성
2. 두 번째 브라우저 탭을 새로고침하여 새 메모가 표시되는지 확인
3. 한 탭에서 메모 수정 후 다른 탭에서 변경사항 확인
4. 한 탭에서 메모 삭제 후 다른 탭에서 삭제 확인

### 검증 항목
- 데이터베이스 연결이 안정적인지
- CRUD 작업이 모두 데이터베이스에 정확히 반영되는지
- 네트워크 오류 시 적절한 오류 처리가 되는지
- 로딩 상태가 사용자에게 명확히 전달되는지

### 오류 시나리오 테스트
1. 네트워크 연결을 차단한 상태에서 페이지 로드
2. "❌ 연결 실패" 또는 적절한 오류 메시지가 표시되는지 확인
3. 오프라인 상태에서 메모 작성 시도 시 오류 메시지 확인
4. 연결 복구 후 정상 작동 여부 확인

### 성능 테스트
1. 많은 수의 메모(100개 이상)가 있을 때 로딩 속도 확인
2. 검색/필터링 시 응답 속도 확인
3. 메모 생성/수정/삭제 시 응답 속도 확인
4. 데이터베이스 쿼리 최적화 여부 확인

### 데이터 일관성 테스트
1. 메모 생성 시 ID가 올바르게 생성되는지 확인
2. 타임스탬프가 서버 시간과 일치하는지 확인
3. 특수문자나 이모지가 포함된 내용이 올바르게 저장/로드되는지 확인
4. 빈 값이나 null 값 처리가 적절한지 확인